[databases]
postgres = host=postgres port=5432 dbname=postgres

[pgbouncer]
listen_port = 6432
listen_addr = 0.0.0.0

auth_type = md5
auth_file = /etc/pgbouncer/userlist.txt
admin_users = conthunt_service

; Mimic "proxy + pooler" constraints at a coarse level.
max_client_conn = 100
default_pool_size = 20
reserve_pool_size = 5
pool_mode = transaction

; Avoid issues with SQLAlchemy / Postgres startup params and app-managed search_path.
ignore_startup_parameters = extra_float_digits, search_path, options

; Keep connections stable for local dev.
server_reset_query = DISCARD ALL
server_check_query = SELECT 1
